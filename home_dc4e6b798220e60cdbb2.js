!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/home/home.js")}({"./node_modules/scrollreveal/dist/scrollreveal.js":function(e,t,n){var i;!function(){"use strict";var o,r;function s(e){return void 0===this||Object.getPrototypeOf(this)!==s.prototype?new s(e):((o=this).version="3.4.0",o.tools=new h,o.isSupported()?(o.tools.extend(o.defaults,e||{}),o.defaults.container=a(o.defaults),o.store={elements:{},containers:[]},o.sequences={},o.history=[],o.uid=0,o.initialized=!1):"undefined"!=typeof console&&null!==console&&console.log("ScrollReveal is not supported in this browser."),o)}function a(e){if(e&&e.container){if("string"==typeof e.container)return window.document.documentElement.querySelector(e.container);if(o.tools.isNode(e.container))return e.container;console.log('ScrollReveal: invalid container "'+e.container+'" provided.'),console.log("ScrollReveal: falling back to default container.")}return o.defaults.container}function l(){return++o.uid}function c(e,t,n){t.container&&(t.container=n),e.config?e.config=o.tools.extendClone(e.config,t):e.config=o.tools.extendClone(o.defaults,t),"top"===e.config.origin||"bottom"===e.config.origin?e.config.axis="Y":e.config.axis="X"}function d(e){var t=window.getComputedStyle(e.domEl);e.styles||(e.styles={transition:{},transform:{},computed:{}},e.styles.inline=e.domEl.getAttribute("style")||"",e.styles.inline+="; visibility: visible; ",e.styles.computed.opacity=t.opacity,t.transition&&"all 0s ease 0s"!==t.transition?e.styles.computed.transition=t.transition+", ":e.styles.computed.transition=""),e.styles.transition.instant=u(e,0),e.styles.transition.delayed=u(e,e.config.delay),e.styles.transform.initial=" -webkit-transform:",e.styles.transform.target=" -webkit-transform:",f(e),e.styles.transform.initial+="transform:",e.styles.transform.target+="transform:",f(e)}function u(e,t){var n=e.config;return"-webkit-transition: "+e.styles.computed.transition+"-webkit-transform "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s; transition: "+e.styles.computed.transition+"transform "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s; "}function f(e){var t,n=e.config,i=e.styles.transform;t="top"===n.origin||"left"===n.origin?/^-/.test(n.distance)?n.distance.substr(1):"-"+n.distance:n.distance,parseInt(n.distance)&&(i.initial+=" translate"+n.axis+"("+t+")",i.target+=" translate"+n.axis+"(0)"),n.scale&&(i.initial+=" scale("+n.scale+")",i.target+=" scale(1)"),n.rotate.x&&(i.initial+=" rotateX("+n.rotate.x+"deg)",i.target+=" rotateX(0)"),n.rotate.y&&(i.initial+=" rotateY("+n.rotate.y+"deg)",i.target+=" rotateY(0)"),n.rotate.z&&(i.initial+=" rotateZ("+n.rotate.z+"deg)",i.target+=" rotateZ(0)"),i.initial+="; opacity: "+n.opacity+";",i.target+="; opacity: "+e.styles.computed.opacity+";"}function m(e){var t=e.config.container;t&&-1===o.store.containers.indexOf(t)&&o.store.containers.push(e.config.container),o.store.elements[e.id]=e}function p(){if(o.isSupported()){g();for(var e=0;e<o.store.containers.length;e++)o.store.containers[e].addEventListener("scroll",y),o.store.containers[e].addEventListener("resize",y);o.initialized||(window.addEventListener("scroll",y),window.addEventListener("resize",y),o.initialized=!0)}return o}function y(){r(g)}function g(){var e,t,n,i,r;o.tools.forOwn(o.sequences,function(e){r=o.sequences[e],n=!1;for(var t=0;t<r.elemIds.length;t++)i=r.elemIds[t],b(o.store.elements[i])&&!n&&(n=!0);r.active=n}),o.tools.forOwn(o.store.elements,function(n){t=o.store.elements[n],e=function(e){var t=e.config.useDelay;return"always"===t||"onload"===t&&!o.initialized||"once"===t&&!e.seen}(t),function(e){if(e.sequence){var t=o.sequences[e.sequence.id];return t.active&&!t.blocked&&!e.revealing&&!e.disabled}return b(e)&&!e.revealing&&!e.disabled}(t)?(t.config.beforeReveal(t.domEl),e?t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.delayed):t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.instant),v("reveal",t,e),t.revealing=!0,t.seen=!0,t.sequence&&function(e,t){var n=0,i=0,r=o.sequences[e.sequence.id];r.blocked=!0,t&&"onload"===e.config.useDelay&&(i=e.config.delay);e.sequence.timer&&(n=Math.abs(e.sequence.timer.started-new Date),window.clearTimeout(e.sequence.timer));e.sequence.timer={started:new Date},e.sequence.timer.clock=window.setTimeout(function(){r.blocked=!1,e.sequence.timer=null,y()},Math.abs(r.interval)+i-n)}(t,e)):function(e){if(e.sequence){var t=o.sequences[e.sequence.id];return!t.active&&e.config.reset&&e.revealing&&!e.disabled}return!b(e)&&e.config.reset&&e.revealing&&!e.disabled}(t)&&(t.config.beforeReset(t.domEl),t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.initial+t.styles.transition.instant),v("reset",t),t.revealing=!1)})}function v(e,t,n){var i=0,o=0,r="after";switch(e){case"reveal":o=t.config.duration,n&&(o+=t.config.delay),r+="Reveal";break;case"reset":o=t.config.duration,r+="Reset"}t.timer&&(i=Math.abs(t.timer.started-new Date),window.clearTimeout(t.timer.clock)),t.timer={started:new Date},t.timer.clock=window.setTimeout(function(){t.config[r](t.domEl),t.timer=null},o-i)}function w(e){var t=0,n=0,i=e.offsetHeight,o=e.offsetWidth;do{isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft),e=e.offsetParent}while(e);return{top:t,left:n,height:i,width:o}}function b(e){var t,n,i,o,r,s,a,l,c=w(e.domEl),d=function(e){return{width:e.clientWidth,height:e.clientHeight}}(e.config.container),u=function(e){if(e&&e!==window.document.documentElement){var t=w(e);return{x:e.scrollLeft+t.left,y:e.scrollTop+t.top}}return{x:window.pageXOffset,y:window.pageYOffset}}(e.config.container),f=e.config.viewFactor,m=c.height,p=c.width,y=c.top,g=c.left;return t=y+m*f,n=g+p*f,i=y+m-m*f,o=g+p-p*f,r=u.y+e.config.viewOffset.top,s=u.x+e.config.viewOffset.left,a=u.y-e.config.viewOffset.bottom+d.height,l=u.x-e.config.viewOffset.right+d.width,t<a&&i>r&&n<l&&o>s||"fixed"===window.getComputedStyle(e.domEl).position}function h(){}s.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:window.document.documentElement,mobile:!0,reset:!1,useDelay:"always",viewFactor:.2,viewOffset:{top:0,right:0,bottom:0,left:0},beforeReveal:function(e){},beforeReset:function(e){},afterReveal:function(e){},afterReset:function(e){}},s.prototype.isSupported=function(){var e=document.documentElement.style;return"WebkitTransition"in e&&"WebkitTransform"in e||"transition"in e&&"transform"in e},s.prototype.reveal=function(e,t,n,i){var r,s,u,f,y,g;if(void 0!==t&&"number"==typeof t?(n=t,t={}):void 0!==t&&null!==t||(t={}),!(s=function(e,t){if("string"==typeof e)return Array.prototype.slice.call(t.querySelectorAll(e));if(o.tools.isNode(e))return[e];if(o.tools.isNodeList(e))return Array.prototype.slice.call(e);if(Array.isArray(e))return e.filter(o.tools.isNode);return[]}(e,r=a(t))).length)return console.log('ScrollReveal: reveal on "'+e+'" failed, no elements found.'),o;n&&"number"==typeof n&&(g=l(),y=o.sequences[g]={id:g,interval:n,elemIds:[],active:!1});for(var v=0;v<s.length;v++)(f=s[v].getAttribute("data-sr-id"))?u=o.store.elements[f]:(u={id:l(),domEl:s[v],seen:!1,revealing:!1}).domEl.setAttribute("data-sr-id",u.id),y&&(u.sequence={id:y.id,index:y.elemIds.length},y.elemIds.push(u.id)),c(u,t,r),d(u),m(u),o.tools.isMobile()&&!u.config.mobile||!o.isSupported()?(u.domEl.setAttribute("style",u.styles.inline),u.disabled=!0):u.revealing||u.domEl.setAttribute("style",u.styles.inline+u.styles.transform.initial);return!i&&o.isSupported()&&(!function(e,t,n){var i={target:e,config:t,interval:n};o.history.push(i)}(e,t,n),o.initTimeout&&window.clearTimeout(o.initTimeout),o.initTimeout=window.setTimeout(p,0)),o},s.prototype.sync=function(){if(o.history.length&&o.isSupported()){for(var e=0;e<o.history.length;e++){var t=o.history[e];o.reveal(t.target,t.config,t.interval,!0)}p()}else console.log("ScrollReveal: sync failed, no reveals found.");return o},h.prototype.isObject=function(e){return null!==e&&"object"==typeof e&&e.constructor===Object},h.prototype.isNode=function(e){return"object"==typeof window.Node?e instanceof window.Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},h.prototype.isNodeList=function(e){var t=Object.prototype.toString.call(e);return"object"==typeof window.NodeList?e instanceof window.NodeList:e&&"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&"number"==typeof e.length&&(0===e.length||this.isNode(e[0]))},h.prototype.forOwn=function(e,t){if(!this.isObject(e))throw new TypeError('Expected "object", but received "'+typeof e+'".');for(var n in e)e.hasOwnProperty(n)&&t(n)},h.prototype.extend=function(e,t){return this.forOwn(t,function(n){this.isObject(t[n])?(e[n]&&this.isObject(e[n])||(e[n]={}),this.extend(e[n],t[n])):e[n]=t[n]}.bind(this)),e},h.prototype.extendClone=function(e,t){return this.extend(this.extend({},e),t)},h.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()},"./src/home/home.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/scrollreveal/dist/scrollreveal.js"),o=n.n(i);n("./src/scripts/three.js"),n("./src/styles/userfeeds.scss");function r(){window.sr=o()({duration:700,viewFactor:.4}),sr.isSupported()?(document.documentElement.classList.add("sr"),sr.reveal(".anim-fade",{distance:"0px",scale:1,duration:1e4}),sr.reveal(".anim-fadeBottom",{origin:"bottom",scale:1,distance:"10px",easing:"ease-in",duration:300}),sr.reveal(".anim-fadeRight",{origin:"right"}),sr.reveal(".anim-fadeLeft",{origin:"left",scale:1,distance:"20px",easing:"cubic-bezier(0.6, 0.3, 0.1, 1)"}),sr.reveal(".anim-fadeTop",{origin:"top"}),sr.reveal(".anim-backToFront",{scale:.5}),sr.reveal(".anim-frontToBack",{scale:1.2})):document.documentElement.classList.remove("sr"),function(){let e=document.querySelector(".js-mobileMenu");e.addEventListener("click",function(t){t.preventDefault();let n=e.getAttribute("data-target");void 0!=n&&""!=n&&(e.classList.toggle("is-active"),document.getElementById(n).classList.toggle("is-active"))})}()}"complete"===document.readyState?r():window.addEventListener("load",r)},"./src/scripts/three.js":function(e,t){},"./src/styles/userfeeds.scss":function(e,t){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZGM0ZTZiNzk4MjIwZTYwY2RiYjIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Njcm9sbHJldmVhbC9kaXN0L3Njcm9sbHJldmVhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaG9tZS9ob21lLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3Njcm9sbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9uYXZPbk1vYmlsZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJzciIsIl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJTY3JvbGxSZXZlYWwiLCJjb25maWciLCJ0aGlzIiwiZ2V0UHJvdG90eXBlT2YiLCJ2ZXJzaW9uIiwidG9vbHMiLCJUb29scyIsImlzU3VwcG9ydGVkIiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJjb250YWluZXIiLCJfcmVzb2x2ZUNvbnRhaW5lciIsInN0b3JlIiwiZWxlbWVudHMiLCJjb250YWluZXJzIiwic2VxdWVuY2VzIiwiaGlzdG9yeSIsInVpZCIsImluaXRpYWxpemVkIiwiY29uc29sZSIsImxvZyIsIndpbmRvdyIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImlzTm9kZSIsIl9uZXh0VWlkIiwiX2NvbmZpZ3VyZSIsImVsZW0iLCJleHRlbmRDbG9uZSIsIm9yaWdpbiIsImF4aXMiLCJfc3R5bGUiLCJjb21wdXRlZCIsImdldENvbXB1dGVkU3R5bGUiLCJkb21FbCIsInN0eWxlcyIsInRyYW5zaXRpb24iLCJ0cmFuc2Zvcm0iLCJpbmxpbmUiLCJnZXRBdHRyaWJ1dGUiLCJvcGFjaXR5IiwiaW5zdGFudCIsIl9nZW5lcmF0ZVRyYW5zaXRpb24iLCJkZWxheWVkIiwiZGVsYXkiLCJpbml0aWFsIiwidGFyZ2V0IiwiX2dlbmVyYXRlVHJhbnNmb3JtIiwiZHVyYXRpb24iLCJlYXNpbmciLCJjc3NEaXN0YW5jZSIsInRlc3QiLCJkaXN0YW5jZSIsInN1YnN0ciIsInBhcnNlSW50Iiwic2NhbGUiLCJyb3RhdGUiLCJ4IiwieSIsInoiLCJfdXBkYXRlU3RvcmUiLCJpbmRleE9mIiwicHVzaCIsImlkIiwiX2luaXQiLCJfYW5pbWF0ZSIsImxlbmd0aCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlciIsImFjdGl2ZSIsImVsZW1JZCIsInNlcXVlbmNlIiwiZm9yT3duIiwic2VxdWVuY2VJZCIsImVsZW1JZHMiLCJfaXNFbGVtVmlzaWJsZSIsInVzZURlbGF5Iiwic2VlbiIsIl9zaG91bGRVc2VEZWxheSIsImJsb2NrZWQiLCJyZXZlYWxpbmciLCJkaXNhYmxlZCIsIl9zaG91bGRSZXZlYWwiLCJiZWZvcmVSZXZlYWwiLCJzZXRBdHRyaWJ1dGUiLCJfcXVldWVDYWxsYmFjayIsImVsYXBzZWQiLCJ0aW1lciIsIk1hdGgiLCJhYnMiLCJzdGFydGVkIiwiRGF0ZSIsImNsZWFyVGltZW91dCIsImNsb2NrIiwic2V0VGltZW91dCIsImludGVydmFsIiwiX3F1ZXVlTmV4dEluU2VxdWVuY2UiLCJyZXNldCIsIl9zaG91bGRSZXNldCIsImJlZm9yZVJlc2V0IiwidHlwZSIsImNhbGxiYWNrIiwiX2dldE9mZnNldCIsIm9mZnNldFRvcCIsIm9mZnNldExlZnQiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRXaWR0aCIsImlzTmFOIiwib2Zmc2V0UGFyZW50IiwidG9wIiwibGVmdCIsImhlaWdodCIsIndpZHRoIiwiYm90dG9tIiwicmlnaHQiLCJ2aWV3VG9wIiwidmlld0xlZnQiLCJ2aWV3Qm90dG9tIiwidmlld1JpZ2h0Iiwib2Zmc2V0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJfZ2V0Q29udGFpbmVyIiwic2Nyb2xsZWQiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIiwicGFnZVhPZmZzZXQiLCJwYWdlWU9mZnNldCIsIl9nZXRTY3JvbGxlZCIsInZGIiwidmlld0ZhY3RvciIsImVsZW1IZWlnaHQiLCJlbGVtV2lkdGgiLCJlbGVtVG9wIiwiZWxlbUxlZnQiLCJ2aWV3T2Zmc2V0IiwicG9zaXRpb24iLCJtb2JpbGUiLCJhZnRlclJldmVhbCIsImFmdGVyUmVzZXQiLCJzdHlsZSIsInJldmVhbCIsInN5bmMiLCJ1bmRlZmluZWQiLCJBcnJheSIsInNsaWNlIiwicXVlcnlTZWxlY3RvckFsbCIsImlzTm9kZUxpc3QiLCJpc0FycmF5IiwiZmlsdGVyIiwiX2dldFJldmVhbEVsZW1lbnRzIiwiaW5kZXgiLCJpc01vYmlsZSIsInJlY29yZCIsIl9yZWNvcmQiLCJpbml0VGltZW91dCIsImlzT2JqZWN0IiwiY29uc3RydWN0b3IiLCJOb2RlIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsInByb3RvdHlwZVRvU3RyaW5nIiwidG9TdHJpbmciLCJOb2RlTGlzdCIsIlR5cGVFcnJvciIsInNvdXJjZSIsImJpbmQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJpbml0Iiwic2Nyb2xscmV2ZWFsX2RlZmF1bHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCIkYnV0dG9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwidG9nZ2xlIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbml0TmF2T25Nb2JpbGUiLCJy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QUFVRSxPQUFPLE1DZi9CLFdBQ2IsSUFBSUMsRUFBVTVKLFNBQVNFLGNBQWMsa0JBRXJDMEosRUFBUTlHLGlCQUFpQixRQUFTLFNBQVMrRyxHQUN2Q0EsRUFBRUMsaUJBRUYsSUFBSXJJLEVBQVNtSSxFQUFRMUksYUFBYSxvQkFFcEJ3RyxHQUFWakcsR0FBaUMsSUFBVkEsSUFDekJtSSxFQUFRSCxVQUFVTSxPQUFPLGFBQ3pCL0osU0FBU2dLLGVBQWV2SSxHQUFRZ0ksVUFBVU0sT0FBTyxnQkZHdkRFLEdBUjBCLGFBQXhCakssU0FBU2tLLFdBQ1hYLElBRUF4SixPQUFPK0MsaUJBQWlCLE9BQVF5RyIsImZpbGUiOiJob21lX2RjNGU2Yjc5ODIyMGU2MGNkYmIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9ob21lL2hvbWUuanNcIik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgZGM0ZTZiNzk4MjIwZTYwY2RiYjIiLCIvLy8vLyAgICAvLy8vLyAgICAvLy8vLyAgICAvLy8vL1xuLy8vLy8gICAgLy8vLy8gICAgLy8vLy8gICAgLy8vLy9cbi8vLy8vICAgIC8vLy8vICAgIC8vLy8vICAgIC8vLy8vXG4vLy8vLyAgICAvLy8vLyAgICAvLy8vLyAgICAvLy8vL1xuLy8vLy8gICAgICAgICAgICAgLy8vLy8gICAgLy8vLy9cbi8vLy8vICAgICAgICAgICAgIC8vLy8vICAgIC8vLy8vXG4vLy8vLyAgICAvLy8vLyAgICAvLy8vLyAgICAvLy8vL1xuLy8vLy8gICAgLy8vLy8gICAgLy8vLy8gICAgLy8vLy9cbiAgICAgICAgIC8vLy8vICAgIC8vLy8vXG4gICAgICAgICAvLy8vLyAgICAvLy8vL1xuLy8vLy8gICAgLy8vLy8gICAgLy8vLy8gICAgLy8vLy9cbi8vLy8vICAgIC8vLy8vICAgIC8vLy8vICAgIC8vLy8vXG4vLy8vLyAgICAvLy8vLyAgICAvLy8vLyAgICAvLy8vL1xuLy8vLy8gICAgLy8vLy8gICAgLy8vLy8gICAgLy8vLy9cblxuLyoqXG4gKiBTY3JvbGxSZXZlYWxcbiAqIC0tLS0tLS0tLS0tLVxuICogVmVyc2lvbiA6IDMuNC4wXG4gKiBXZWJzaXRlIDogc2Nyb2xscmV2ZWFsanMub3JnXG4gKiBSZXBvICAgIDogZ2l0aHViLmNvbS9qbG1ha2VzL3Njcm9sbHJldmVhbC5qc1xuICogQXV0aG9yICA6IEp1bGlhbiBMbG95ZCAoQGpsbWFrZXMpXG4gKi9cblxuOyhmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0J1xuXG4gIHZhciBzclxuICB2YXIgX3JlcXVlc3RBbmltYXRpb25GcmFtZVxuXG4gIGZ1bmN0aW9uIFNjcm9sbFJldmVhbCAoY29uZmlnKSB7XG4gICAgLy8gU3VwcG9ydCBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlIGBuZXdgIGtleXdvcmQuXG4gICAgaWYgKHR5cGVvZiB0aGlzID09PSAndW5kZWZpbmVkJyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykgIT09IFNjcm9sbFJldmVhbC5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiBuZXcgU2Nyb2xsUmV2ZWFsKGNvbmZpZylcbiAgICB9XG5cbiAgICBzciA9IHRoaXMgLy8gU2F2ZSByZWZlcmVuY2UgdG8gaW5zdGFuY2UuXG4gICAgc3IudmVyc2lvbiA9ICczLjQuMCdcbiAgICBzci50b29scyA9IG5ldyBUb29scygpIC8vICpyZXF1aXJlZCB1dGlsaXRpZXNcblxuICAgIGlmIChzci5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICBzci50b29scy5leHRlbmQoc3IuZGVmYXVsdHMsIGNvbmZpZyB8fCB7fSlcblxuICAgICAgc3IuZGVmYXVsdHMuY29udGFpbmVyID0gX3Jlc29sdmVDb250YWluZXIoc3IuZGVmYXVsdHMpXG5cbiAgICAgIHNyLnN0b3JlID0ge1xuICAgICAgICBlbGVtZW50czoge30sXG4gICAgICAgIGNvbnRhaW5lcnM6IFtdXG4gICAgICB9XG5cbiAgICAgIHNyLnNlcXVlbmNlcyA9IHt9XG4gICAgICBzci5oaXN0b3J5ID0gW11cbiAgICAgIHNyLnVpZCA9IDBcbiAgICAgIHNyLmluaXRpYWxpemVkID0gZmFsc2VcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlICE9PSBudWxsKSB7XG4gICAgICAvLyBOb3RlOiBJRTkgb25seSBzdXBwb3J0cyBjb25zb2xlIGlmIGRldnRvb2xzIGFyZSBvcGVuLlxuICAgICAgY29uc29sZS5sb2coJ1Njcm9sbFJldmVhbCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4nKVxuICAgIH1cblxuICAgIHJldHVybiBzclxuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb25cbiAgICogLS0tLS0tLS0tLS0tLVxuICAgKiBUaGlzIG9iamVjdCBzaWduYXR1cmUgY2FuIGJlIHBhc3NlZCBkaXJlY3RseSB0byB0aGUgU2Nyb2xsUmV2ZWFsIGNvbnN0cnVjdG9yLFxuICAgKiBvciBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IG9mIHRoZSBgcmV2ZWFsKClgIG1ldGhvZC5cbiAgICovXG5cbiAgU2Nyb2xsUmV2ZWFsLnByb3RvdHlwZS5kZWZhdWx0cyA9IHtcbiAgICAvLyAnYm90dG9tJywgJ2xlZnQnLCAndG9wJywgJ3JpZ2h0J1xuICAgIG9yaWdpbjogJ2JvdHRvbScsXG5cbiAgICAvLyBDYW4gYmUgYW55IHZhbGlkIENTUyBkaXN0YW5jZSwgZS5nLiAnNXJlbScsICcxMCUnLCAnMjB2dycsIGV0Yy5cbiAgICBkaXN0YW5jZTogJzIwcHgnLFxuXG4gICAgLy8gVGltZSBpbiBtaWxsaXNlY29uZHMuXG4gICAgZHVyYXRpb246IDUwMCxcbiAgICBkZWxheTogMCxcblxuICAgIC8vIFN0YXJ0aW5nIGFuZ2xlcyBpbiBkZWdyZWVzLCB3aWxsIHRyYW5zaXRpb24gZnJvbSB0aGVzZSB2YWx1ZXMgdG8gMCBpbiBhbGwgYXhlcy5cbiAgICByb3RhdGU6IHsgeDogMCwgeTogMCwgejogMCB9LFxuXG4gICAgLy8gU3RhcnRpbmcgb3BhY2l0eSB2YWx1ZSwgYmVmb3JlIHRyYW5zaXRpb25pbmcgdG8gdGhlIGNvbXB1dGVkIG9wYWNpdHkuXG4gICAgb3BhY2l0eTogMCxcblxuICAgIC8vIFN0YXJ0aW5nIHNjYWxlIHZhbHVlLCB3aWxsIHRyYW5zaXRpb24gZnJvbSB0aGlzIHZhbHVlIHRvIDFcbiAgICBzY2FsZTogMC45LFxuXG4gICAgLy8gQWNjZXB0cyBhbnkgdmFsaWQgQ1NTIGVhc2luZywgZS5nLiAnZWFzZScsICdlYXNlLWluLW91dCcsICdsaW5lYXInLCBldGMuXG4gICAgZWFzaW5nOiAnY3ViaWMtYmV6aWVyKDAuNiwgMC4yLCAwLjEsIDEpJyxcblxuICAgIC8vIGA8aHRtbD5gIGlzIHRoZSBkZWZhdWx0IHJldmVhbCBjb250YWluZXIuIFlvdSBjYW4gcGFzcyBlaXRoZXI6XG4gICAgLy8gRE9NIE5vZGUsIGUuZy4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb0NvbnRhaW5lcicpXG4gICAgLy8gU2VsZWN0b3IsIGUuZy4gJy5mb29Db250YWluZXInXG4gICAgY29udGFpbmVyOiB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuXG4gICAgLy8gdHJ1ZS9mYWxzZSB0byBjb250cm9sIHJldmVhbCBhbmltYXRpb25zIG9uIG1vYmlsZS5cbiAgICBtb2JpbGU6IHRydWUsXG5cbiAgICAvLyB0cnVlOiAgcmV2ZWFscyBvY2N1ciBldmVyeSB0aW1lIGVsZW1lbnRzIGJlY29tZSB2aXNpYmxlXG4gICAgLy8gZmFsc2U6IHJldmVhbHMgb2NjdXIgb25jZSBhcyBlbGVtZW50cyBiZWNvbWUgdmlzaWJsZVxuICAgIHJlc2V0OiBmYWxzZSxcblxuICAgIC8vICdhbHdheXMnIOKAlCBkZWxheSBmb3IgYWxsIHJldmVhbCBhbmltYXRpb25zXG4gICAgLy8gJ29uY2UnICAg4oCUIGRlbGF5IG9ubHkgdGhlIGZpcnN0IHRpbWUgcmV2ZWFscyBvY2N1clxuICAgIC8vICdvbmxvYWQnIC0gZGVsYXkgb25seSBmb3IgYW5pbWF0aW9ucyB0cmlnZ2VyZWQgYnkgZmlyc3QgbG9hZFxuICAgIHVzZURlbGF5OiAnYWx3YXlzJyxcblxuICAgIC8vIENoYW5nZSB3aGVuIGFuIGVsZW1lbnQgaXMgY29uc2lkZXJlZCBpbiB0aGUgdmlld3BvcnQuIFRoZSBkZWZhdWx0IHZhbHVlXG4gICAgLy8gb2YgMC4yMCBtZWFucyAyMCUgb2YgYW4gZWxlbWVudCBtdXN0IGJlIHZpc2libGUgZm9yIGl0cyByZXZlYWwgdG8gb2NjdXIuXG4gICAgdmlld0ZhY3RvcjogMC4yLFxuXG4gICAgLy8gUGl4ZWwgdmFsdWVzIHRoYXQgYWx0ZXIgdGhlIGNvbnRhaW5lciBib3VuZGFyaWVzLlxuICAgIC8vIGUuZy4gU2V0IGB7IHRvcDogNDggfWAsIGlmIHlvdSBoYXZlIGEgNDhweCB0YWxsIGZpeGVkIHRvb2xiYXIuXG4gICAgLy8gLS1cbiAgICAvLyBWaXN1YWwgQWlkOiBodHRwczovL3Njcm9sbHJldmVhbGpzLm9yZy9hc3NldHMvdmlld29mZnNldC5wbmdcbiAgICB2aWV3T2Zmc2V0OiB7IHRvcDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCwgbGVmdDogMCB9LFxuXG4gICAgLy8gQ2FsbGJhY2tzIHRoYXQgZmlyZSBmb3IgZWFjaCB0cmlnZ2VyZWQgZWxlbWVudCByZXZlYWwsIGFuZCByZXNldC5cbiAgICBiZWZvcmVSZXZlYWw6IGZ1bmN0aW9uIChkb21FbCkge30sXG4gICAgYmVmb3JlUmVzZXQ6IGZ1bmN0aW9uIChkb21FbCkge30sXG5cbiAgICAvLyBDYWxsYmFja3MgdGhhdCBmaXJlIGZvciBlYWNoIGNvbXBsZXRlZCBlbGVtZW50IHJldmVhbCwgYW5kIHJlc2V0LlxuICAgIGFmdGVyUmV2ZWFsOiBmdW5jdGlvbiAoZG9tRWwpIHt9LFxuICAgIGFmdGVyUmVzZXQ6IGZ1bmN0aW9uIChkb21FbCkge31cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjbGllbnQgc3VwcG9ydHMgQ1NTIFRyYW5zZm9ybSBhbmQgQ1NTIFRyYW5zaXRpb24uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBTY3JvbGxSZXZlYWwucHJvdG90eXBlLmlzU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZVxuICAgIHJldHVybiAnV2Via2l0VHJhbnNpdGlvbicgaW4gc3R5bGUgJiYgJ1dlYmtpdFRyYW5zZm9ybScgaW4gc3R5bGUgfHxcbiAgICAgICd0cmFuc2l0aW9uJyBpbiBzdHlsZSAmJiAndHJhbnNmb3JtJyBpbiBzdHlsZVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSByZXZlYWwgc2V0LCBhIGdyb3VwIG9mIGVsZW1lbnRzIHRoYXQgd2lsbCBhbmltYXRlIHdoZW4gdGhleVxuICAgKiBiZWNvbWUgdmlzaWJsZS4gSWYgW2ludGVydmFsXSBpcyBwcm92aWRlZCwgYSBuZXcgc2VxdWVuY2UgaXMgY3JlYXRlZFxuICAgKiB0aGF0IHdpbGwgZW5zdXJlIGVsZW1lbnRzIHJldmVhbCBpbiB0aGUgb3JkZXIgdGhleSBhcHBlYXIgaW4gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfE5vZGVMaXN0fHN0cmluZ30gW3RhcmdldF0gICBUaGUgbm9kZSwgbm9kZSBsaXN0IG9yIHNlbGVjdG9yIHRvIHVzZSBmb3IgYW5pbWF0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICAgICBbY29uZmlnXSAgIE92ZXJyaWRlIHRoZSBkZWZhdWx0cyBmb3IgdGhpcyByZXZlYWwgc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICBbaW50ZXJ2YWxdIFRpbWUgYmV0d2VlbiBzZXF1ZW5jZWQgZWxlbWVudCBhbmltYXRpb25zIChtaWxsaXNlY29uZHMpLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICAgICAgICAgICAgICBbc3luY10gICAgIFVzZWQgaW50ZXJuYWxseSB3aGVuIHVwZGF0aW5nIHJldmVhbHMgZm9yIGFzeW5jIGNvbnRlbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGN1cnJlbnQgU2Nyb2xsUmV2ZWFsIGluc3RhbmNlLlxuICAgKi9cbiAgU2Nyb2xsUmV2ZWFsLnByb3RvdHlwZS5yZXZlYWwgPSBmdW5jdGlvbiAodGFyZ2V0LCBjb25maWcsIGludGVydmFsLCBzeW5jKSB7XG4gICAgdmFyIGNvbnRhaW5lclxuICAgIHZhciBlbGVtZW50c1xuICAgIHZhciBlbGVtXG4gICAgdmFyIGVsZW1JZFxuICAgIHZhciBzZXF1ZW5jZVxuICAgIHZhciBzZXF1ZW5jZUlkXG5cbiAgICAvLyBObyBjdXN0b20gY29uZmlndXJhdGlvbiB3YXMgcGFzc2VkLCBidXQgYSBzZXF1ZW5jZSBpbnRlcnZhbCBpbnN0ZWFkLlxuICAgIC8vIGxldOKAmXMgc2h1ZmZsZSB0aGluZ3MgYXJvdW5kIHRvIG1ha2Ugc3VyZSBldmVyeXRoaW5nIHdvcmtzLlxuICAgIGlmIChjb25maWcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgY29uZmlnID09PSAnbnVtYmVyJykge1xuICAgICAgaW50ZXJ2YWwgPSBjb25maWdcbiAgICAgIGNvbmZpZyA9IHt9XG4gICAgfSBlbHNlIGlmIChjb25maWcgPT09IHVuZGVmaW5lZCB8fCBjb25maWcgPT09IG51bGwpIHtcbiAgICAgIGNvbmZpZyA9IHt9XG4gICAgfVxuXG4gICAgY29udGFpbmVyID0gX3Jlc29sdmVDb250YWluZXIoY29uZmlnKVxuICAgIGVsZW1lbnRzID0gX2dldFJldmVhbEVsZW1lbnRzKHRhcmdldCwgY29udGFpbmVyKVxuXG4gICAgaWYgKCFlbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTY3JvbGxSZXZlYWw6IHJldmVhbCBvbiBcIicgKyB0YXJnZXQgKyAnXCIgZmFpbGVkLCBubyBlbGVtZW50cyBmb3VuZC4nKVxuICAgICAgcmV0dXJuIHNyXG4gICAgfVxuXG4gICAgLy8gUHJlcGFyZSBhIG5ldyBzZXF1ZW5jZSBpZiBhbiBpbnRlcnZhbCBpcyBwYXNzZWQuXG4gICAgaWYgKGludGVydmFsICYmIHR5cGVvZiBpbnRlcnZhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHNlcXVlbmNlSWQgPSBfbmV4dFVpZCgpXG5cbiAgICAgIHNlcXVlbmNlID0gc3Iuc2VxdWVuY2VzW3NlcXVlbmNlSWRdID0ge1xuICAgICAgICBpZDogc2VxdWVuY2VJZCxcbiAgICAgICAgaW50ZXJ2YWw6IGludGVydmFsLFxuICAgICAgICBlbGVtSWRzOiBbXSxcbiAgICAgICAgYWN0aXZlOiBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEJlZ2luIG1haW4gbG9vcCB0byBjb25maWd1cmUgU2Nyb2xsUmV2ZWFsIGVsZW1lbnRzLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBlbGVtZW50IGhhcyBhbHJlYWR5IGJlZW4gY29uZmlndXJlZCBhbmQgZ3JhYiBpdCBmcm9tIHRoZSBzdG9yZS5cbiAgICAgIGVsZW1JZCA9IGVsZW1lbnRzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1zci1pZCcpXG4gICAgICBpZiAoZWxlbUlkKSB7XG4gICAgICAgIGVsZW0gPSBzci5zdG9yZS5lbGVtZW50c1tlbGVtSWRdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UsIGxldOKAmXMgZG8gc29tZSBiYXNpYyBzZXR1cC5cbiAgICAgICAgZWxlbSA9IHtcbiAgICAgICAgICBpZDogX25leHRVaWQoKSxcbiAgICAgICAgICBkb21FbDogZWxlbWVudHNbaV0sXG4gICAgICAgICAgc2VlbjogZmFsc2UsXG4gICAgICAgICAgcmV2ZWFsaW5nOiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGVsZW0uZG9tRWwuc2V0QXR0cmlidXRlKCdkYXRhLXNyLWlkJywgZWxlbS5pZClcbiAgICAgIH1cblxuICAgICAgLy8gU2VxdWVuY2Ugb25seSBzZXR1cFxuICAgICAgaWYgKHNlcXVlbmNlKSB7XG4gICAgICAgIGVsZW0uc2VxdWVuY2UgPSB7XG4gICAgICAgICAgaWQ6IHNlcXVlbmNlLmlkLFxuICAgICAgICAgIGluZGV4OiBzZXF1ZW5jZS5lbGVtSWRzLmxlbmd0aFxuICAgICAgICB9XG5cbiAgICAgICAgc2VxdWVuY2UuZWxlbUlkcy5wdXNoKGVsZW0uaWQpXG4gICAgICB9XG5cbiAgICAgIC8vIE5ldyBvciBleGlzdGluZyBlbGVtZW50LCBpdOKAmXMgdGltZSB0byB1cGRhdGUgaXRzIGNvbmZpZ3VyYXRpb24sIHN0eWxlcyxcbiAgICAgIC8vIGFuZCBzZW5kIHRoZSB1cGRhdGVzIHRvIG91ciBzdG9yZS5cbiAgICAgIF9jb25maWd1cmUoZWxlbSwgY29uZmlnLCBjb250YWluZXIpXG4gICAgICBfc3R5bGUoZWxlbSlcbiAgICAgIF91cGRhdGVTdG9yZShlbGVtKVxuXG4gICAgICAvLyBXZSBuZWVkIHRvIG1ha2Ugc3VyZSBlbGVtZW50cyBhcmUgc2V0IHRvIHZpc2liaWxpdHk6IHZpc2libGUsIGV2ZW4gd2hlblxuICAgICAgLy8gb24gbW9iaWxlIGFuZCBgY29uZmlnLm1vYmlsZSA9PT0gZmFsc2VgLCBvciBpZiB1bnN1cHBvcnRlZC5cbiAgICAgIGlmIChzci50b29scy5pc01vYmlsZSgpICYmICFlbGVtLmNvbmZpZy5tb2JpbGUgfHwgIXNyLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgZWxlbS5kb21FbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgZWxlbS5zdHlsZXMuaW5saW5lKVxuICAgICAgICBlbGVtLmRpc2FibGVkID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmICghZWxlbS5yZXZlYWxpbmcpIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBwcm9jZWVkIG5vcm1hbGx5LlxuICAgICAgICBlbGVtLmRvbUVsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLFxuICAgICAgICAgIGVsZW0uc3R5bGVzLmlubGluZSArXG4gICAgICAgICAgZWxlbS5zdHlsZXMudHJhbnNmb3JtLmluaXRpYWxcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVhY2ggYHJldmVhbCgpYCBpcyByZWNvcmRlZCBzbyB0aGF0IHdoZW4gY2FsbGluZyBgc3luYygpYCB3aGlsZSB3b3JraW5nXG4gICAgLy8gd2l0aCBhc3luY2hyb25vdXNseSBsb2FkZWQgY29udGVudCwgaXQgY2FuIHJlLXRyYWNlIHlvdXIgc3RlcHMgYnV0IHdpdGhcbiAgICAvLyBhbGwgeW91ciBuZXcgZWxlbWVudHMgbm93IGluIHRoZSBET00uXG5cbiAgICAvLyBTaW5jZSBgcmV2ZWFsKClgIGlzIGNhbGxlZCBpbnRlcm5hbGx5IGJ5IGBzeW5jKClgLCB3ZSBkb27igJl0IHdhbnQgdG9cbiAgICAvLyByZWNvcmQgb3IgaW50aWlhbGl6ZSBlYWNoIHJldmVhbCBkdXJpbmcgc3luY2luZy5cbiAgICBpZiAoIXN5bmMgJiYgc3IuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgX3JlY29yZCh0YXJnZXQsIGNvbmZpZywgaW50ZXJ2YWwpXG5cbiAgICAgIC8vIFdlIHB1c2ggaW5pdGlhbGl6YXRpb24gdG8gdGhlIGV2ZW50IHF1ZXVlIHVzaW5nIHNldFRpbWVvdXQsIHNvIHRoYXQgd2UgY2FuXG4gICAgICAvLyBnaXZlIFNjcm9sbFJldmVhbCByb29tIHRvIHByb2Nlc3MgYWxsIHJldmVhbCBjYWxscyBiZWZvcmUgcHV0dGluZyB0aGluZ3MgaW50byBtb3Rpb24uXG4gICAgICAvLyAtLVxuICAgICAgLy8gUGhpbGlwIFJvYmVydHMgLSBXaGF0IHRoZSBoZWNrIGlzIHRoZSBldmVudCBsb29wIGFueXdheT8gKEpTQ29uZiBFVSAyMDE0KVxuICAgICAgLy8gaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj04YUdoWlFrb0ZiUVxuICAgICAgaWYgKHNyLmluaXRUaW1lb3V0KSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc3IuaW5pdFRpbWVvdXQpXG4gICAgICB9XG4gICAgICBzci5pbml0VGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KF9pbml0LCAwKVxuICAgIH1cblxuICAgIHJldHVybiBzclxuICB9XG5cbiAgLyoqXG4gICAqIFJlLXJ1bnMgYHJldmVhbCgpYCBmb3IgZWFjaCByZWNvcmQgc3RvcmVkIGluIGhpc3RvcnksIGVmZmVjdGl2ZWx5IGNhcHR1cmluZ1xuICAgKiBhbnkgY29udGVudCBsb2FkZWQgYXN5bmNocm9ub3VzbHkgdGhhdCBtYXRjaGVzIGV4aXN0aW5nIHJldmVhbCBzZXQgdGFyZ2V0cy5cbiAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY3VycmVudCBTY3JvbGxSZXZlYWwgaW5zdGFuY2UuXG4gICAqL1xuICBTY3JvbGxSZXZlYWwucHJvdG90eXBlLnN5bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHNyLmhpc3RvcnkubGVuZ3RoICYmIHNyLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3IuaGlzdG9yeS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmVjb3JkID0gc3IuaGlzdG9yeVtpXVxuICAgICAgICBzci5yZXZlYWwocmVjb3JkLnRhcmdldCwgcmVjb3JkLmNvbmZpZywgcmVjb3JkLmludGVydmFsLCB0cnVlKVxuICAgICAgfVxuICAgICAgX2luaXQoKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnU2Nyb2xsUmV2ZWFsOiBzeW5jIGZhaWxlZCwgbm8gcmV2ZWFscyBmb3VuZC4nKVxuICAgIH1cbiAgICByZXR1cm4gc3JcbiAgfVxuXG4gIC8qKlxuICAgKiBQcml2YXRlIE1ldGhvZHNcbiAgICogLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIGZ1bmN0aW9uIF9yZXNvbHZlQ29udGFpbmVyIChjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5jb250YWluZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgY29uZmlnLmNvbnRhaW5lciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuY29udGFpbmVyKVxuICAgICAgfSBlbHNlIGlmIChzci50b29scy5pc05vZGUoY29uZmlnLmNvbnRhaW5lcikpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy5jb250YWluZXJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTY3JvbGxSZXZlYWw6IGludmFsaWQgY29udGFpbmVyIFwiJyArIGNvbmZpZy5jb250YWluZXIgKyAnXCIgcHJvdmlkZWQuJylcbiAgICAgICAgY29uc29sZS5sb2coJ1Njcm9sbFJldmVhbDogZmFsbGluZyBiYWNrIHRvIGRlZmF1bHQgY29udGFpbmVyLicpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzci5kZWZhdWx0cy5jb250YWluZXJcbiAgfVxuXG4gIC8qKlxuICAgKiBjaGVjayB0byBzZWUgaWYgYSBub2RlIG9yIG5vZGUgbGlzdCB3YXMgcGFzc2VkIGluIGFzIHRoZSB0YXJnZXQsXG4gICAqIG90aGVyd2lzZSBxdWVyeSB0aGUgY29udGFpbmVyIHVzaW5nIHRhcmdldCBhcyBhIHNlbGVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV8Tm9kZUxpc3R8c3RyaW5nfSBbdGFyZ2V0XSAgICBjbGllbnQgaW5wdXQgZm9yIHJldmVhbCB0YXJnZXQuXG4gICAqIEBwYXJhbSB7Tm9kZX0gICAgICAgICAgICAgICAgIFtjb250YWluZXJdIHBhcmVudCBlbGVtZW50IGZvciBzZWxlY3RvciBxdWVyaWVzLlxuICAgKlxuICAgKiBAcmV0dXJuIHthcnJheX0gZWxlbWVudHMgdG8gYmUgcmV2ZWFsZWQuXG4gICAqL1xuICBmdW5jdGlvbiBfZ2V0UmV2ZWFsRWxlbWVudHMgKHRhcmdldCwgY29udGFpbmVyKSB7XG4gICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwodGFyZ2V0KSlcbiAgICB9IGVsc2UgaWYgKHNyLnRvb2xzLmlzTm9kZSh0YXJnZXQpKSB7XG4gICAgICByZXR1cm4gW3RhcmdldF1cbiAgICB9IGVsc2UgaWYgKHNyLnRvb2xzLmlzTm9kZUxpc3QodGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRhcmdldClcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIHRhcmdldC5maWx0ZXIoc3IudG9vbHMuaXNOb2RlKVxuICAgIH1cbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIC8qKlxuICAgKiBBIGNvbnNpc3RlbnQgd2F5IG9mIGNyZWF0aW5nIHVuaXF1ZSBJRHMuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBfbmV4dFVpZCAoKSB7XG4gICAgcmV0dXJuICsrc3IudWlkXG4gIH1cblxuICBmdW5jdGlvbiBfY29uZmlndXJlIChlbGVtLCBjb25maWcsIGNvbnRhaW5lcikge1xuICAgIC8vIElmIGEgY29udGFpbmVyIHdhcyBwYXNzZWQgYXMgYSBwYXJ0IG9mIHRoZSBjb25maWcgb2JqZWN0LFxuICAgIC8vIGxldOKAmXMgb3ZlcndyaXRlIGl0IHdpdGggdGhlIHJlc29sdmVkIGNvbnRhaW5lciBwYXNzZWQgaW4uXG4gICAgaWYgKGNvbmZpZy5jb250YWluZXIpIGNvbmZpZy5jb250YWluZXIgPSBjb250YWluZXJcbiAgICAvLyBJZiB0aGUgZWxlbWVudCBoYXNu4oCZdCBhbHJlYWR5IGJlZW4gY29uZmlndXJlZCwgbGV04oCZcyB1c2UgYSBjbG9uZSBvZiB0aGVcbiAgICAvLyBkZWZhdWx0cyBleHRlbmRlZCBieSB0aGUgY29uZmlndXJhdGlvbiBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudC5cbiAgICBpZiAoIWVsZW0uY29uZmlnKSB7XG4gICAgICBlbGVtLmNvbmZpZyA9IHNyLnRvb2xzLmV4dGVuZENsb25lKHNyLmRlZmF1bHRzLCBjb25maWcpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE90aGVyd2lzZSwgbGV04oCZcyB1c2UgYSBjbG9uZSBvZiB0aGUgZXhpc3RpbmcgZWxlbWVudCBjb25maWd1cmF0aW9uIGV4dGVuZGVkXG4gICAgICAvLyBieSB0aGUgY29uZmlndXJhdGlvbiBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudC5cbiAgICAgIGVsZW0uY29uZmlnID0gc3IudG9vbHMuZXh0ZW5kQ2xvbmUoZWxlbS5jb25maWcsIGNvbmZpZylcbiAgICB9XG5cbiAgICAvLyBJbmZlciBDU1MgVHJhbnNmb3JtIGF4aXMgZnJvbSBvcmlnaW4gc3RyaW5nLlxuICAgIGlmIChlbGVtLmNvbmZpZy5vcmlnaW4gPT09ICd0b3AnIHx8IGVsZW0uY29uZmlnLm9yaWdpbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIGVsZW0uY29uZmlnLmF4aXMgPSAnWSdcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5jb25maWcuYXhpcyA9ICdYJ1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdHlsZSAoZWxlbSkge1xuICAgIHZhciBjb21wdXRlZCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW0uZG9tRWwpXG5cbiAgICBpZiAoIWVsZW0uc3R5bGVzKSB7XG4gICAgICBlbGVtLnN0eWxlcyA9IHtcbiAgICAgICAgdHJhbnNpdGlvbjoge30sXG4gICAgICAgIHRyYW5zZm9ybToge30sXG4gICAgICAgIGNvbXB1dGVkOiB7fVxuICAgICAgfVxuXG4gICAgICAvLyBDYXB0dXJlIGFueSBleGlzdGluZyBpbmxpbmUgc3R5bGVzLCBhbmQgYWRkIG91ciB2aXNpYmlsaXR5IG92ZXJyaWRlLlxuICAgICAgLy8gLS1cbiAgICAgIC8vIFNlZSBzZWN0aW9uIDQuMi4gaW4gdGhlIERvY3VtZW50YXRpb246XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vamxtYWtlcy9zY3JvbGxyZXZlYWwuanMjNDItaW1wcm92ZS11c2VyLWV4cGVyaWVuY2VcbiAgICAgIGVsZW0uc3R5bGVzLmlubGluZSA9IGVsZW0uZG9tRWwuZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnXG4gICAgICBlbGVtLnN0eWxlcy5pbmxpbmUgKz0gJzsgdmlzaWJpbGl0eTogdmlzaWJsZTsgJ1xuXG4gICAgICAvLyBncmFiIHRoZSBlbGVtZW50cyBleGlzdGluZyBvcGFjaXR5LlxuICAgICAgZWxlbS5zdHlsZXMuY29tcHV0ZWQub3BhY2l0eSA9IGNvbXB1dGVkLm9wYWNpdHlcblxuICAgICAgLy8gZ3JhYiB0aGUgZWxlbWVudHMgZXhpc3RpbmcgdHJhbnNpdGlvbnMuXG4gICAgICBpZiAoIWNvbXB1dGVkLnRyYW5zaXRpb24gfHwgY29tcHV0ZWQudHJhbnNpdGlvbiA9PT0gJ2FsbCAwcyBlYXNlIDBzJykge1xuICAgICAgICBlbGVtLnN0eWxlcy5jb21wdXRlZC50cmFuc2l0aW9uID0gJydcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW0uc3R5bGVzLmNvbXB1dGVkLnRyYW5zaXRpb24gPSBjb21wdXRlZC50cmFuc2l0aW9uICsgJywgJ1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0cmFuc2l0aW9uIHN0eWxlc1xuICAgIGVsZW0uc3R5bGVzLnRyYW5zaXRpb24uaW5zdGFudCA9IF9nZW5lcmF0ZVRyYW5zaXRpb24oZWxlbSwgMClcbiAgICBlbGVtLnN0eWxlcy50cmFuc2l0aW9uLmRlbGF5ZWQgPSBfZ2VuZXJhdGVUcmFuc2l0aW9uKGVsZW0sIGVsZW0uY29uZmlnLmRlbGF5KVxuXG4gICAgLy8gR2VuZXJhdGUgdHJhbnNmb3JtIHN0eWxlcywgZmlyc3Qgd2l0aCB0aGUgd2Via2l0IHByZWZpeC5cbiAgICBlbGVtLnN0eWxlcy50cmFuc2Zvcm0uaW5pdGlhbCA9ICcgLXdlYmtpdC10cmFuc2Zvcm06J1xuICAgIGVsZW0uc3R5bGVzLnRyYW5zZm9ybS50YXJnZXQgPSAnIC13ZWJraXQtdHJhbnNmb3JtOidcbiAgICBfZ2VuZXJhdGVUcmFuc2Zvcm0oZWxlbSlcblxuICAgIC8vIEFuZCBhZ2FpbiB3aXRob3V0IGFueSBwcmVmaXguXG4gICAgZWxlbS5zdHlsZXMudHJhbnNmb3JtLmluaXRpYWwgKz0gJ3RyYW5zZm9ybTonXG4gICAgZWxlbS5zdHlsZXMudHJhbnNmb3JtLnRhcmdldCArPSAndHJhbnNmb3JtOidcbiAgICBfZ2VuZXJhdGVUcmFuc2Zvcm0oZWxlbSlcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZW5lcmF0ZVRyYW5zaXRpb24gKGVsZW0sIGRlbGF5KSB7XG4gICAgdmFyIGNvbmZpZyA9IGVsZW0uY29uZmlnXG5cbiAgICByZXR1cm4gJy13ZWJraXQtdHJhbnNpdGlvbjogJyArIGVsZW0uc3R5bGVzLmNvbXB1dGVkLnRyYW5zaXRpb24gK1xuICAgICAgJy13ZWJraXQtdHJhbnNmb3JtICcgKyBjb25maWcuZHVyYXRpb24gLyAxMDAwICsgJ3MgJyArXG4gICAgICBjb25maWcuZWFzaW5nICsgJyAnICtcbiAgICAgIGRlbGF5IC8gMTAwMCArICdzLCBvcGFjaXR5ICcgK1xuICAgICAgY29uZmlnLmR1cmF0aW9uIC8gMTAwMCArICdzICcgK1xuICAgICAgY29uZmlnLmVhc2luZyArICcgJyArXG4gICAgICBkZWxheSAvIDEwMDAgKyAnczsgJyArXG5cbiAgICAgICd0cmFuc2l0aW9uOiAnICsgZWxlbS5zdHlsZXMuY29tcHV0ZWQudHJhbnNpdGlvbiArXG4gICAgICAndHJhbnNmb3JtICcgKyBjb25maWcuZHVyYXRpb24gLyAxMDAwICsgJ3MgJyArXG4gICAgICBjb25maWcuZWFzaW5nICsgJyAnICtcbiAgICAgIGRlbGF5IC8gMTAwMCArICdzLCBvcGFjaXR5ICcgK1xuICAgICAgY29uZmlnLmR1cmF0aW9uIC8gMTAwMCArICdzICcgK1xuICAgICAgY29uZmlnLmVhc2luZyArICcgJyArXG4gICAgICBkZWxheSAvIDEwMDAgKyAnczsgJ1xuICB9XG5cbiAgZnVuY3Rpb24gX2dlbmVyYXRlVHJhbnNmb3JtIChlbGVtKSB7XG4gICAgdmFyIGNvbmZpZyA9IGVsZW0uY29uZmlnXG4gICAgdmFyIGNzc0Rpc3RhbmNlXG4gICAgdmFyIHRyYW5zZm9ybSA9IGVsZW0uc3R5bGVzLnRyYW5zZm9ybVxuXG4gICAgLy8gTGV04oCZcyBtYWtlIHN1cmUgb3VyIG91ciBwaXhlbCBkaXN0YW5jZXMgYXJlIG5lZ2F0aXZlIGZvciB0b3AgYW5kIGxlZnQuXG4gICAgLy8gZS5nLiBvcmlnaW4gPSAndG9wJyBhbmQgZGlzdGFuY2UgPSAnMjVweCcgc3RhcnRzIGF0IGB0b3A6IC0yNXB4YCBpbiBDU1MuXG4gICAgaWYgKGNvbmZpZy5vcmlnaW4gPT09ICd0b3AnIHx8IGNvbmZpZy5vcmlnaW4gPT09ICdsZWZ0Jykge1xuICAgICAgY3NzRGlzdGFuY2UgPSAvXi0vLnRlc3QoY29uZmlnLmRpc3RhbmNlKVxuICAgICAgICA/IGNvbmZpZy5kaXN0YW5jZS5zdWJzdHIoMSlcbiAgICAgICAgOiAnLScgKyBjb25maWcuZGlzdGFuY2VcbiAgICB9IGVsc2Uge1xuICAgICAgY3NzRGlzdGFuY2UgPSBjb25maWcuZGlzdGFuY2VcbiAgICB9XG5cbiAgICBpZiAocGFyc2VJbnQoY29uZmlnLmRpc3RhbmNlKSkge1xuICAgICAgdHJhbnNmb3JtLmluaXRpYWwgKz0gJyB0cmFuc2xhdGUnICsgY29uZmlnLmF4aXMgKyAnKCcgKyBjc3NEaXN0YW5jZSArICcpJ1xuICAgICAgdHJhbnNmb3JtLnRhcmdldCArPSAnIHRyYW5zbGF0ZScgKyBjb25maWcuYXhpcyArICcoMCknXG4gICAgfVxuICAgIGlmIChjb25maWcuc2NhbGUpIHtcbiAgICAgIHRyYW5zZm9ybS5pbml0aWFsICs9ICcgc2NhbGUoJyArIGNvbmZpZy5zY2FsZSArICcpJ1xuICAgICAgdHJhbnNmb3JtLnRhcmdldCArPSAnIHNjYWxlKDEpJ1xuICAgIH1cbiAgICBpZiAoY29uZmlnLnJvdGF0ZS54KSB7XG4gICAgICB0cmFuc2Zvcm0uaW5pdGlhbCArPSAnIHJvdGF0ZVgoJyArIGNvbmZpZy5yb3RhdGUueCArICdkZWcpJ1xuICAgICAgdHJhbnNmb3JtLnRhcmdldCArPSAnIHJvdGF0ZVgoMCknXG4gICAgfVxuICAgIGlmIChjb25maWcucm90YXRlLnkpIHtcbiAgICAgIHRyYW5zZm9ybS5pbml0aWFsICs9ICcgcm90YXRlWSgnICsgY29uZmlnLnJvdGF0ZS55ICsgJ2RlZyknXG4gICAgICB0cmFuc2Zvcm0udGFyZ2V0ICs9ICcgcm90YXRlWSgwKSdcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5yb3RhdGUueikge1xuICAgICAgdHJhbnNmb3JtLmluaXRpYWwgKz0gJyByb3RhdGVaKCcgKyBjb25maWcucm90YXRlLnogKyAnZGVnKSdcbiAgICAgIHRyYW5zZm9ybS50YXJnZXQgKz0gJyByb3RhdGVaKDApJ1xuICAgIH1cbiAgICB0cmFuc2Zvcm0uaW5pdGlhbCArPSAnOyBvcGFjaXR5OiAnICsgY29uZmlnLm9wYWNpdHkgKyAnOydcbiAgICB0cmFuc2Zvcm0udGFyZ2V0ICs9ICc7IG9wYWNpdHk6ICcgKyBlbGVtLnN0eWxlcy5jb21wdXRlZC5vcGFjaXR5ICsgJzsnXG4gIH1cblxuICBmdW5jdGlvbiBfdXBkYXRlU3RvcmUgKGVsZW0pIHtcbiAgICB2YXIgY29udGFpbmVyID0gZWxlbS5jb25maWcuY29udGFpbmVyXG5cbiAgICAvLyBJZiB0aGlzIGVsZW1lbnTigJlzIGNvbnRhaW5lciBpc27igJl0IGFscmVhZHkgaW4gdGhlIHN0b3JlLCBsZXTigJlzIGFkZCBpdC5cbiAgICBpZiAoY29udGFpbmVyICYmIHNyLnN0b3JlLmNvbnRhaW5lcnMuaW5kZXhPZihjb250YWluZXIpID09PSAtMSkge1xuICAgICAgc3Iuc3RvcmUuY29udGFpbmVycy5wdXNoKGVsZW0uY29uZmlnLmNvbnRhaW5lcilcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIGVsZW1lbnQgc3RvcmVkIHdpdGggb3VyIG5ldyBlbGVtZW50LlxuICAgIHNyLnN0b3JlLmVsZW1lbnRzW2VsZW0uaWRdID0gZWxlbVxuICB9XG5cbiAgZnVuY3Rpb24gX3JlY29yZCAodGFyZ2V0LCBjb25maWcsIGludGVydmFsKSB7XG4gICAgLy8gU2F2ZSB0aGUgYHJldmVhbCgpYCBhcmd1bWVudHMgdGhhdCB0cmlnZ2VyZWQgdGhpcyBgX3JlY29yZCgpYCBjYWxsLCBzbyB3ZVxuICAgIC8vIGNhbiByZS10cmFjZSBvdXIgc3RlcHMgd2hlbiBjYWxsaW5nIHRoZSBgc3luYygpYCBtZXRob2QuXG4gICAgdmFyIHJlY29yZCA9IHtcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICBpbnRlcnZhbDogaW50ZXJ2YWxcbiAgICB9XG4gICAgc3IuaGlzdG9yeS5wdXNoKHJlY29yZClcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbml0ICgpIHtcbiAgICBpZiAoc3IuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgLy8gSW5pdGlhbCBhbmltYXRlIGNhbGwgdHJpZ2dlcnMgdmFsaWQgcmV2ZWFsIGFuaW1hdGlvbnMgb24gZmlyc3QgbG9hZC5cbiAgICAgIC8vIFN1YnNlcXVlbnQgYW5pbWF0ZSBjYWxscyBhcmUgbWFkZSBpbnNpZGUgdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAgICBfYW5pbWF0ZSgpXG5cbiAgICAgIC8vIFRoZW4gd2UgbG9vcCB0aHJvdWdoIGFsbCBjb250YWluZXIgbm9kZXMgaW4gdGhlIHN0b3JlIGFuZCBiaW5kIGV2ZW50XG4gICAgICAvLyBsaXN0ZW5lcnMgdG8gZWFjaC5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Iuc3RvcmUuY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzci5zdG9yZS5jb250YWluZXJzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF9oYW5kbGVyKVxuICAgICAgICBzci5zdG9yZS5jb250YWluZXJzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIF9oYW5kbGVyKVxuICAgICAgfVxuXG4gICAgICAvLyBMZXTigJlzIGFsc28gZG8gYSBvbmUtdGltZSBiaW5kaW5nIG9mIHdpbmRvdyBldmVudCBsaXN0ZW5lcnMuXG4gICAgICBpZiAoIXNyLmluaXRpYWxpemVkKSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBfaGFuZGxlcilcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIF9oYW5kbGVyKVxuICAgICAgICBzci5pbml0aWFsaXplZCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNyXG4gIH1cblxuICBmdW5jdGlvbiBfaGFuZGxlciAoKSB7XG4gICAgX3JlcXVlc3RBbmltYXRpb25GcmFtZShfYW5pbWF0ZSlcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXRBY3RpdmVTZXF1ZW5jZXMgKCkge1xuICAgIHZhciBhY3RpdmVcbiAgICB2YXIgZWxlbVxuICAgIHZhciBlbGVtSWRcbiAgICB2YXIgc2VxdWVuY2VcblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc2VxdWVuY2VzXG4gICAgc3IudG9vbHMuZm9yT3duKHNyLnNlcXVlbmNlcywgZnVuY3Rpb24gKHNlcXVlbmNlSWQpIHtcbiAgICAgIHNlcXVlbmNlID0gc3Iuc2VxdWVuY2VzW3NlcXVlbmNlSWRdXG4gICAgICBhY3RpdmUgPSBmYWxzZVxuXG4gICAgICAvLyBGb3IgZWFjaCBzZXF1ZW5jZWQgZWxlbWVuZXQsIGxldOKAmXMgY2hlY2sgdmlzaWJpbGl0eSBhbmQgaWZcbiAgICAgIC8vIGFueSBhcmUgdmlzaWJsZSwgc2V0IGl04oCZcyBzZXF1ZW5jZSB0byBhY3RpdmUuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcXVlbmNlLmVsZW1JZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxlbUlkID0gc2VxdWVuY2UuZWxlbUlkc1tpXVxuICAgICAgICBlbGVtID0gc3Iuc3RvcmUuZWxlbWVudHNbZWxlbUlkXVxuICAgICAgICBpZiAoX2lzRWxlbVZpc2libGUoZWxlbSkgJiYgIWFjdGl2ZSkge1xuICAgICAgICAgIGFjdGl2ZSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZXF1ZW5jZS5hY3RpdmUgPSBhY3RpdmVcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gX2FuaW1hdGUgKCkge1xuICAgIHZhciBkZWxheWVkXG4gICAgdmFyIGVsZW1cblxuICAgIF9zZXRBY3RpdmVTZXF1ZW5jZXMoKVxuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBlbGVtZW50cyBpbiB0aGUgc3RvcmVcbiAgICBzci50b29scy5mb3JPd24oc3Iuc3RvcmUuZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtSWQpIHtcbiAgICAgIGVsZW0gPSBzci5zdG9yZS5lbGVtZW50c1tlbGVtSWRdXG4gICAgICBkZWxheWVkID0gX3Nob3VsZFVzZURlbGF5KGVsZW0pXG5cbiAgICAgIC8vIExldOKAmXMgc2VlIGlmIHdlIHNob3VsZCByZXZlYWxhbmQgaWYgc28sXG4gICAgICAvLyB0cmlnZ2VyIHRoZSBgYmVmb3JlUmV2ZWFsYCBjYWxsYmFjayBhbmRcbiAgICAgIC8vIGRldGVybWluZSB3aGV0aGVyIG9yIG5vdCB0byB1c2UgZGVsYXkuXG4gICAgICBpZiAoX3Nob3VsZFJldmVhbChlbGVtKSkge1xuICAgICAgICBlbGVtLmNvbmZpZy5iZWZvcmVSZXZlYWwoZWxlbS5kb21FbClcbiAgICAgICAgaWYgKGRlbGF5ZWQpIHtcbiAgICAgICAgICBlbGVtLmRvbUVsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLFxuICAgICAgICAgICAgZWxlbS5zdHlsZXMuaW5saW5lICtcbiAgICAgICAgICAgIGVsZW0uc3R5bGVzLnRyYW5zZm9ybS50YXJnZXQgK1xuICAgICAgICAgICAgZWxlbS5zdHlsZXMudHJhbnNpdGlvbi5kZWxheWVkXG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW0uZG9tRWwuc2V0QXR0cmlidXRlKCdzdHlsZScsXG4gICAgICAgICAgICBlbGVtLnN0eWxlcy5pbmxpbmUgK1xuICAgICAgICAgICAgZWxlbS5zdHlsZXMudHJhbnNmb3JtLnRhcmdldCArXG4gICAgICAgICAgICBlbGVtLnN0eWxlcy50cmFuc2l0aW9uLmluc3RhbnRcbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICAvLyBMZXTigJlzIHF1ZXVlIHRoZSBgYWZ0ZXJSZXZlYWxgIGNhbGxiYWNrXG4gICAgICAgIC8vIGFuZCBtYXJrIHRoZSBlbGVtZW50IGFzIHNlZW4gYW5kIHJldmVhbGluZy5cbiAgICAgICAgX3F1ZXVlQ2FsbGJhY2soJ3JldmVhbCcsIGVsZW0sIGRlbGF5ZWQpXG4gICAgICAgIGVsZW0ucmV2ZWFsaW5nID0gdHJ1ZVxuICAgICAgICBlbGVtLnNlZW4gPSB0cnVlXG5cbiAgICAgICAgaWYgKGVsZW0uc2VxdWVuY2UpIHtcbiAgICAgICAgICBfcXVldWVOZXh0SW5TZXF1ZW5jZShlbGVtLCBkZWxheWVkKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKF9zaG91bGRSZXNldChlbGVtKSkge1xuICAgICAgICAvL090aGVyd2lzZSByZXNldCBvdXIgZWxlbWVudCBhbmRcbiAgICAgICAgLy8gdHJpZ2dlciB0aGUgYGJlZm9yZVJlc2V0YCBjYWxsYmFjay5cbiAgICAgICAgZWxlbS5jb25maWcuYmVmb3JlUmVzZXQoZWxlbS5kb21FbClcbiAgICAgICAgZWxlbS5kb21FbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJyxcbiAgICAgICAgICBlbGVtLnN0eWxlcy5pbmxpbmUgK1xuICAgICAgICAgIGVsZW0uc3R5bGVzLnRyYW5zZm9ybS5pbml0aWFsICtcbiAgICAgICAgICBlbGVtLnN0eWxlcy50cmFuc2l0aW9uLmluc3RhbnRcbiAgICAgICAgKVxuICAgICAgICAvLyBBbmQgcXVldWUgdGhlIGBhZnRlclJlc2V0YCBjYWxsYmFjay5cbiAgICAgICAgX3F1ZXVlQ2FsbGJhY2soJ3Jlc2V0JywgZWxlbSlcbiAgICAgICAgZWxlbS5yZXZlYWxpbmcgPSBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBfcXVldWVOZXh0SW5TZXF1ZW5jZSAoZWxlbSwgZGVsYXllZCkge1xuICAgIHZhciBlbGFwc2VkID0gMFxuICAgIHZhciBkZWxheSA9IDBcbiAgICB2YXIgc2VxdWVuY2UgPSBzci5zZXF1ZW5jZXNbZWxlbS5zZXF1ZW5jZS5pZF1cblxuICAgIC8vIFdl4oCZcmUgcHJvY2Vzc2luZyBhIHNlcXVlbmNlZCBlbGVtZW50LCBzbyBsZXQncyBibG9jayBvdGhlciBlbGVtZW50cyBpbiB0aGlzIHNlcXVlbmNlLlxuICAgIHNlcXVlbmNlLmJsb2NrZWQgPSB0cnVlXG5cbiAgICAvLyBTaW5jZSB3ZeKAmXJlIHRyaWdnZXJpbmcgYW5pbWF0aW9ucyBhIHBhcnQgb2YgYSBzZXF1ZW5jZSBhZnRlciBhbmltYXRpb25zIG9uIGZpcnN0IGxvYWQsXG4gICAgLy8gd2UgbmVlZCB0byBjaGVjayBmb3IgdGhhdCBjb25kaXRpb24gYW5kIGV4cGxpY2l0bHkgYWRkIHRoZSBkZWxheSB0byBvdXIgdGltZXIuXG4gICAgaWYgKGRlbGF5ZWQgJiYgZWxlbS5jb25maWcudXNlRGVsYXkgPT09ICdvbmxvYWQnKSB7XG4gICAgICBkZWxheSA9IGVsZW0uY29uZmlnLmRlbGF5XG4gICAgfVxuXG4gICAgLy8gSWYgYSBzZXF1ZW5jZSB0aW1lciBpcyBhbHJlYWR5IHJ1bm5pbmcsIGNhcHR1cmUgdGhlIGVsYXBzZWQgdGltZSBhbmQgY2xlYXIgaXQuXG4gICAgaWYgKGVsZW0uc2VxdWVuY2UudGltZXIpIHtcbiAgICAgIGVsYXBzZWQgPSBNYXRoLmFicyhlbGVtLnNlcXVlbmNlLnRpbWVyLnN0YXJ0ZWQgLSBuZXcgRGF0ZSgpKVxuICAgICAgd2luZG93LmNsZWFyVGltZW91dChlbGVtLnNlcXVlbmNlLnRpbWVyKVxuICAgIH1cblxuICAgIC8vIFN0YXJ0IGEgbmV3IHRpbWVyLlxuICAgIGVsZW0uc2VxdWVuY2UudGltZXIgPSB7IHN0YXJ0ZWQ6IG5ldyBEYXRlKCkgfVxuICAgIGVsZW0uc2VxdWVuY2UudGltZXIuY2xvY2sgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBTZXF1ZW5jZSBpbnRlcnZhbCBoYXMgcGFzc2VkLCBzbyB1bmJsb2NrIHRoZSBzZXF1ZW5jZSBhbmQgcmUtcnVuIHRoZSBoYW5kbGVyLlxuICAgICAgc2VxdWVuY2UuYmxvY2tlZCA9IGZhbHNlXG4gICAgICBlbGVtLnNlcXVlbmNlLnRpbWVyID0gbnVsbFxuICAgICAgX2hhbmRsZXIoKVxuICAgIH0sIE1hdGguYWJzKHNlcXVlbmNlLmludGVydmFsKSArIGRlbGF5IC0gZWxhcHNlZClcbiAgfVxuXG4gIGZ1bmN0aW9uIF9xdWV1ZUNhbGxiYWNrICh0eXBlLCBlbGVtLCBkZWxheWVkKSB7XG4gICAgdmFyIGVsYXBzZWQgPSAwXG4gICAgdmFyIGR1cmF0aW9uID0gMFxuICAgIHZhciBjYWxsYmFjayA9ICdhZnRlcidcblxuICAgIC8vIENoZWNrIHdoaWNoIGNhbGxiYWNrIHdl4oCZcmUgd29ya2luZyB3aXRoLlxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAncmV2ZWFsJzpcbiAgICAgICAgZHVyYXRpb24gPSBlbGVtLmNvbmZpZy5kdXJhdGlvblxuICAgICAgICBpZiAoZGVsYXllZCkge1xuICAgICAgICAgIGR1cmF0aW9uICs9IGVsZW0uY29uZmlnLmRlbGF5XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sgKz0gJ1JldmVhbCdcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAncmVzZXQnOlxuICAgICAgICBkdXJhdGlvbiA9IGVsZW0uY29uZmlnLmR1cmF0aW9uXG4gICAgICAgIGNhbGxiYWNrICs9ICdSZXNldCdcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICAvLyBJZiBhIHRpbWVyIGlzIGFscmVhZHkgcnVubmluZywgY2FwdHVyZSB0aGUgZWxhcHNlZCB0aW1lIGFuZCBjbGVhciBpdC5cbiAgICBpZiAoZWxlbS50aW1lcikge1xuICAgICAgZWxhcHNlZCA9IE1hdGguYWJzKGVsZW0udGltZXIuc3RhcnRlZCAtIG5ldyBEYXRlKCkpXG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGVsZW0udGltZXIuY2xvY2spXG4gICAgfVxuXG4gICAgLy8gU3RhcnQgYSBuZXcgdGltZXIuXG4gICAgZWxlbS50aW1lciA9IHsgc3RhcnRlZDogbmV3IERhdGUoKSB9XG4gICAgZWxlbS50aW1lci5jbG9jayA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFRoZSB0aW1lciBjb21wbGV0ZWQsIHNvIGxldOKAmXMgZmlyZSB0aGUgY2FsbGJhY2sgYW5kIG51bGwgdGhlIHRpbWVyLlxuICAgICAgZWxlbS5jb25maWdbY2FsbGJhY2tdKGVsZW0uZG9tRWwpXG4gICAgICBlbGVtLnRpbWVyID0gbnVsbFxuICAgIH0sIGR1cmF0aW9uIC0gZWxhcHNlZClcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zaG91bGRSZXZlYWwgKGVsZW0pIHtcbiAgICBpZiAoZWxlbS5zZXF1ZW5jZSkge1xuICAgICAgdmFyIHNlcXVlbmNlID0gc3Iuc2VxdWVuY2VzW2VsZW0uc2VxdWVuY2UuaWRdXG4gICAgICByZXR1cm4gc2VxdWVuY2UuYWN0aXZlICYmXG4gICAgICAgICFzZXF1ZW5jZS5ibG9ja2VkICYmXG4gICAgICAgICFlbGVtLnJldmVhbGluZyAmJlxuICAgICAgICAhZWxlbS5kaXNhYmxlZFxuICAgIH1cbiAgICByZXR1cm4gX2lzRWxlbVZpc2libGUoZWxlbSkgJiZcbiAgICAgICFlbGVtLnJldmVhbGluZyAmJlxuICAgICAgIWVsZW0uZGlzYWJsZWRcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zaG91bGRVc2VEZWxheSAoZWxlbSkge1xuICAgIHZhciBjb25maWcgPSBlbGVtLmNvbmZpZy51c2VEZWxheVxuICAgIHJldHVybiBjb25maWcgPT09ICdhbHdheXMnIHx8XG4gICAgICAoY29uZmlnID09PSAnb25sb2FkJyAmJiAhc3IuaW5pdGlhbGl6ZWQpIHx8XG4gICAgICAoY29uZmlnID09PSAnb25jZScgJiYgIWVsZW0uc2VlbilcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zaG91bGRSZXNldCAoZWxlbSkge1xuICAgIGlmIChlbGVtLnNlcXVlbmNlKSB7XG4gICAgICB2YXIgc2VxdWVuY2UgPSBzci5zZXF1ZW5jZXNbZWxlbS5zZXF1ZW5jZS5pZF1cbiAgICAgIHJldHVybiAhc2VxdWVuY2UuYWN0aXZlICYmXG4gICAgICAgIGVsZW0uY29uZmlnLnJlc2V0ICYmXG4gICAgICAgIGVsZW0ucmV2ZWFsaW5nICYmXG4gICAgICAgICFlbGVtLmRpc2FibGVkXG4gICAgfVxuICAgIHJldHVybiAhX2lzRWxlbVZpc2libGUoZWxlbSkgJiZcbiAgICAgIGVsZW0uY29uZmlnLnJlc2V0ICYmXG4gICAgICBlbGVtLnJldmVhbGluZyAmJlxuICAgICAgIWVsZW0uZGlzYWJsZWRcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRDb250YWluZXIgKGNvbnRhaW5lcikge1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogY29udGFpbmVyLmNsaWVudFdpZHRoLFxuICAgICAgaGVpZ2h0OiBjb250YWluZXIuY2xpZW50SGVpZ2h0XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2dldFNjcm9sbGVkIChjb250YWluZXIpIHtcbiAgICAvLyBSZXR1cm4gdGhlIGNvbnRhaW5lciBzY3JvbGwgdmFsdWVzLCBwbHVzIHRoZSBpdHMgb2Zmc2V0LlxuICAgIGlmIChjb250YWluZXIgJiYgY29udGFpbmVyICE9PSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gX2dldE9mZnNldChjb250YWluZXIpXG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBjb250YWluZXIuc2Nyb2xsTGVmdCArIG9mZnNldC5sZWZ0LFxuICAgICAgICB5OiBjb250YWluZXIuc2Nyb2xsVG9wICsgb2Zmc2V0LnRvcFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UsIGRlZmF1bHQgdG8gdGhlIHdpbmRvdyBvYmplY3TigJlzIHNjcm9sbCB2YWx1ZXMuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiB3aW5kb3cucGFnZVhPZmZzZXQsXG4gICAgICAgIHk6IHdpbmRvdy5wYWdlWU9mZnNldFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRPZmZzZXQgKGRvbUVsKSB7XG4gICAgdmFyIG9mZnNldFRvcCA9IDBcbiAgICB2YXIgb2Zmc2V0TGVmdCA9IDBcblxuICAgICAgLy8gR3JhYiB0aGUgZWxlbWVudOKAmXMgZGltZW5zaW9ucy5cbiAgICB2YXIgb2Zmc2V0SGVpZ2h0ID0gZG9tRWwub2Zmc2V0SGVpZ2h0XG4gICAgdmFyIG9mZnNldFdpZHRoID0gZG9tRWwub2Zmc2V0V2lkdGhcblxuICAgIC8vIE5vdyBjYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIGVsZW1lbnQgYW5kIGl0cyBwYXJlbnQsIHRoZW5cbiAgICAvLyBhZ2FpbiBmb3IgdGhlIHBhcmVudCB0byBpdHMgcGFyZW50LCBhbmQgYWdhaW4gZXRjLi4uIHVudGlsIHdlIGhhdmUgdGhlXG4gICAgLy8gdG90YWwgZGlzdGFuY2Ugb2YgdGhlIGVsZW1lbnQgdG8gdGhlIGRvY3VtZW504oCZcyB0b3AgYW5kIGxlZnQgb3JpZ2luLlxuICAgIGRvIHtcbiAgICAgIGlmICghaXNOYU4oZG9tRWwub2Zmc2V0VG9wKSkge1xuICAgICAgICBvZmZzZXRUb3AgKz0gZG9tRWwub2Zmc2V0VG9wXG4gICAgICB9XG4gICAgICBpZiAoIWlzTmFOKGRvbUVsLm9mZnNldExlZnQpKSB7XG4gICAgICAgIG9mZnNldExlZnQgKz0gZG9tRWwub2Zmc2V0TGVmdFxuICAgICAgfVxuICAgICAgZG9tRWwgPSBkb21FbC5vZmZzZXRQYXJlbnRcbiAgICB9IHdoaWxlIChkb21FbClcblxuICAgIHJldHVybiB7XG4gICAgICB0b3A6IG9mZnNldFRvcCxcbiAgICAgIGxlZnQ6IG9mZnNldExlZnQsXG4gICAgICBoZWlnaHQ6IG9mZnNldEhlaWdodCxcbiAgICAgIHdpZHRoOiBvZmZzZXRXaWR0aFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9pc0VsZW1WaXNpYmxlIChlbGVtKSB7XG4gICAgdmFyIG9mZnNldCA9IF9nZXRPZmZzZXQoZWxlbS5kb21FbClcbiAgICB2YXIgY29udGFpbmVyID0gX2dldENvbnRhaW5lcihlbGVtLmNvbmZpZy5jb250YWluZXIpXG4gICAgdmFyIHNjcm9sbGVkID0gX2dldFNjcm9sbGVkKGVsZW0uY29uZmlnLmNvbnRhaW5lcilcbiAgICB2YXIgdkYgPSBlbGVtLmNvbmZpZy52aWV3RmFjdG9yXG5cbiAgICAgIC8vIERlZmluZSB0aGUgZWxlbWVudCBnZW9tZXRyeS5cbiAgICB2YXIgZWxlbUhlaWdodCA9IG9mZnNldC5oZWlnaHRcbiAgICB2YXIgZWxlbVdpZHRoID0gb2Zmc2V0LndpZHRoXG4gICAgdmFyIGVsZW1Ub3AgPSBvZmZzZXQudG9wXG4gICAgdmFyIGVsZW1MZWZ0ID0gb2Zmc2V0LmxlZnRcbiAgICB2YXIgZWxlbUJvdHRvbSA9IGVsZW1Ub3AgKyBlbGVtSGVpZ2h0XG4gICAgdmFyIGVsZW1SaWdodCA9IGVsZW1MZWZ0ICsgZWxlbVdpZHRoXG5cbiAgICByZXR1cm4gY29uZmlybUJvdW5kcygpIHx8IGlzUG9zaXRpb25GaXhlZCgpXG5cbiAgICBmdW5jdGlvbiBjb25maXJtQm91bmRzICgpIHtcbiAgICAgIC8vIERlZmluZSB0aGUgZWxlbWVudOKAmXMgZnVuY3Rpb25hbCBib3VuZGFyaWVzIHVzaW5nIGl0cyB2aWV3IGZhY3Rvci5cbiAgICAgIHZhciB0b3AgPSBlbGVtVG9wICsgZWxlbUhlaWdodCAqIHZGXG4gICAgICB2YXIgbGVmdCA9IGVsZW1MZWZ0ICsgZWxlbVdpZHRoICogdkZcbiAgICAgIHZhciBib3R0b20gPSBlbGVtQm90dG9tIC0gZWxlbUhlaWdodCAqIHZGXG4gICAgICB2YXIgcmlnaHQgPSBlbGVtUmlnaHQgLSBlbGVtV2lkdGggKiB2RlxuXG4gICAgICAvLyBEZWZpbmUgdGhlIGNvbnRhaW5lciBmdW5jdGlvbmFsIGJvdW5kYXJpZXMgdXNpbmcgaXRzIHZpZXcgb2Zmc2V0LlxuICAgICAgdmFyIHZpZXdUb3AgPSBzY3JvbGxlZC55ICsgZWxlbS5jb25maWcudmlld09mZnNldC50b3BcbiAgICAgIHZhciB2aWV3TGVmdCA9IHNjcm9sbGVkLnggKyBlbGVtLmNvbmZpZy52aWV3T2Zmc2V0LmxlZnRcbiAgICAgIHZhciB2aWV3Qm90dG9tID0gc2Nyb2xsZWQueSAtIGVsZW0uY29uZmlnLnZpZXdPZmZzZXQuYm90dG9tICsgY29udGFpbmVyLmhlaWdodFxuICAgICAgdmFyIHZpZXdSaWdodCA9IHNjcm9sbGVkLnggLSBlbGVtLmNvbmZpZy52aWV3T2Zmc2V0LnJpZ2h0ICsgY29udGFpbmVyLndpZHRoXG5cbiAgICAgIHJldHVybiB0b3AgPCB2aWV3Qm90dG9tICYmXG4gICAgICAgIGJvdHRvbSA+IHZpZXdUb3AgJiZcbiAgICAgICAgbGVmdCA8IHZpZXdSaWdodCAmJlxuICAgICAgICByaWdodCA+IHZpZXdMZWZ0XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNQb3NpdGlvbkZpeGVkICgpIHtcbiAgICAgIHJldHVybiAod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbS5kb21FbCkucG9zaXRpb24gPT09ICdmaXhlZCcpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFV0aWxpdGllc1xuICAgKiAtLS0tLS0tLS1cbiAgICovXG5cbiAgZnVuY3Rpb24gVG9vbHMgKCkge31cblxuICBUb29scy5wcm90b3R5cGUuaXNPYmplY3QgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IE9iamVjdFxuICB9XG5cbiAgVG9vbHMucHJvdG90eXBlLmlzTm9kZSA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdy5Ob2RlID09PSAnb2JqZWN0J1xuICAgICAgPyBvYmplY3QgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZVxuICAgICAgOiBvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdHlwZW9mIG9iamVjdC5ub2RlVHlwZSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgdHlwZW9mIG9iamVjdC5ub2RlTmFtZSA9PT0gJ3N0cmluZydcbiAgfVxuXG4gIFRvb2xzLnByb3RvdHlwZS5pc05vZGVMaXN0ID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHZhciBwcm90b3R5cGVUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpXG4gICAgdmFyIHJlZ2V4ID0gL15cXFtvYmplY3QgKEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0fE9iamVjdClcXF0kL1xuXG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cuTm9kZUxpc3QgPT09ICdvYmplY3QnXG4gICAgICA/IG9iamVjdCBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlTGlzdFxuICAgICAgOiBvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgcmVnZXgudGVzdChwcm90b3R5cGVUb1N0cmluZykgJiZcbiAgICAgICAgdHlwZW9mIG9iamVjdC5sZW5ndGggPT09ICdudW1iZXInICYmXG4gICAgICAgIChvYmplY3QubGVuZ3RoID09PSAwIHx8IHRoaXMuaXNOb2RlKG9iamVjdFswXSkpXG4gIH1cblxuICBUb29scy5wcm90b3R5cGUuZm9yT3duID0gZnVuY3Rpb24gKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRoaXMuaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCJvYmplY3RcIiwgYnV0IHJlY2VpdmVkIFwiJyArIHR5cGVvZiBvYmplY3QgKyAnXCIuJylcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgICAgY2FsbGJhY2socHJvcGVydHkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBUb29scy5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG4gICAgdGhpcy5mb3JPd24oc291cmNlLCBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgIGlmICh0aGlzLmlzT2JqZWN0KHNvdXJjZVtwcm9wZXJ0eV0pKSB7XG4gICAgICAgIGlmICghdGFyZ2V0W3Byb3BlcnR5XSB8fCAhdGhpcy5pc09iamVjdCh0YXJnZXRbcHJvcGVydHldKSkge1xuICAgICAgICAgIHRhcmdldFtwcm9wZXJ0eV0gPSB7fVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXh0ZW5kKHRhcmdldFtwcm9wZXJ0eV0sIHNvdXJjZVtwcm9wZXJ0eV0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRbcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XVxuICAgICAgfVxuICAgIH0uYmluZCh0aGlzKSlcbiAgICByZXR1cm4gdGFyZ2V0XG4gIH1cblxuICBUb29scy5wcm90b3R5cGUuZXh0ZW5kQ2xvbmUgPSBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICByZXR1cm4gdGhpcy5leHRlbmQodGhpcy5leHRlbmQoe30sIHRhcmdldCksIHNvdXJjZSlcbiAgfVxuXG4gIFRvb2xzLnByb3RvdHlwZS5pc01vYmlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG4gIH1cblxuICAvKipcbiAgICogUG9seWZpbGxzXG4gICAqIC0tLS0tLS0tXG4gICAqL1xuXG4gIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApXG4gICAgfVxuXG4gIC8qKlxuICAgKiBNb2R1bGUgV3JhcHBlclxuICAgKiAtLS0tLS0tLS0tLS0tLVxuICAgKi9cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFNjcm9sbFJldmVhbFxuICAgIH0pXG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFNjcm9sbFJldmVhbFxuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5TY3JvbGxSZXZlYWwgPSBTY3JvbGxSZXZlYWxcbiAgfVxufSkoKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Njcm9sbHJldmVhbC9kaXN0L3Njcm9sbHJldmVhbC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvc2Nyb2xscmV2ZWFsL2Rpc3Qvc2Nyb2xscmV2ZWFsLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBzY3JvbGwgZnJvbSAnLi4vc2NyaXB0cy9zY3JvbGwnO1xuaW1wb3J0IG5hdk9uTW9iaWxlIGZyb20gJy4uL3NjcmlwdHMvbmF2T25Nb2JpbGUnO1xuaW1wb3J0IHsgaW5pdFRocmVlLCBhbmltYXRlIH0gZnJvbSAnLi4vc2NyaXB0cy90aHJlZSc7XG5cbmltcG9ydCAnLi4vc3R5bGVzL3VzZXJmZWVkcy5zY3NzJztcblxuaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgaW5pdCgpO1xufSBlbHNlIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBpbml0KTtcbn1cblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgc2Nyb2xsKCk7XG4gIG5hdk9uTW9iaWxlKCk7XG4gIC8vIGluaXRUaHJlZSgpO1xuICAvLyBhbmltYXRlKCk7XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ob21lL2hvbWUuanMiLCJpbXBvcnQgU2Nyb2xsUmV2ZWFsIGZyb20gJ3Njcm9sbHJldmVhbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRTY3JvbGxSZXZlYWwoKSB7XG4gIHdpbmRvdy5zciA9IFNjcm9sbFJldmVhbCh7IGR1cmF0aW9uOiA3MDAsIHZpZXdGYWN0b3I6IDAuNCB9KTtcblxuICBpZiAoc3IuaXNTdXBwb3J0ZWQoKSl7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NyJyk7XG5cbiAgICBzci5yZXZlYWwoJy5hbmltLWZhZGUnLCB7IGRpc3RhbmNlOiAnMHB4Jywgc2NhbGU6IDEsIGR1cmF0aW9uOiAxMDAwMCB9KTtcbiAgICBzci5yZXZlYWwoJy5hbmltLWZhZGVCb3R0b20nLCB7b3JpZ2luOiBcImJvdHRvbVwiLCBzY2FsZToxLCBkaXN0YW5jZTonMTBweCcsIGVhc2luZzogJ2Vhc2UtaW4nLCBkdXJhdGlvbjozMDB9KTtcbiAgICBzci5yZXZlYWwoJy5hbmltLWZhZGVSaWdodCcsIHsgb3JpZ2luOiBcInJpZ2h0XCIgfSk7XG4gICAgc3IucmV2ZWFsKCcuYW5pbS1mYWRlTGVmdCcsIHsgb3JpZ2luOiBcImxlZnRcIiAsIHNjYWxlOiAxLCBkaXN0YW5jZTonMjBweCcsIGVhc2luZzogJ2N1YmljLWJlemllcigwLjYsIDAuMywgMC4xLCAxKScgfSk7XG4gICAgc3IucmV2ZWFsKCcuYW5pbS1mYWRlVG9wJywgeyBvcmlnaW46IFwidG9wXCIgfSk7XG4gICAgc3IucmV2ZWFsKCcuYW5pbS1iYWNrVG9Gcm9udCcsIHsgc2NhbGU6IDAuNSB9KTtcbiAgICBzci5yZXZlYWwoJy5hbmltLWZyb250VG9CYWNrJywgeyBzY2FsZTogMS4yIH0pO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzcicpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2NyaXB0cy9zY3JvbGwuanMiLCJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXROYXZPbk1vYmlsZSgpIHtcbiAgbGV0ICRidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbW9iaWxlTWVudScpO1xuXG4gICRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGxldCB0YXJnZXQgPSAkYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKTtcblxuICAgICAgaWYgKHRhcmdldCAhPSB1bmRlZmluZWQgJiYgdGFyZ2V0ICE9IFwiXCIpIHtcbiAgICAgICAgJGJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICAgIH1cbiAgfSk7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NjcmlwdHMvbmF2T25Nb2JpbGUuanMiXSwic291cmNlUm9vdCI6IiJ9